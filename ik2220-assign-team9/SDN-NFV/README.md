# SDN

## Стек:
![Стек](stack.png)

## Топология Mininet:
![Топология](topo.png "Рис. 1: Топология с тремя зонами. Публичная зона (PbZ), расположенная близко к Интернету, защищенная, демилитаризованная зона (DmZ) с веб-серверами и частная зона (PrZ), содержащая облачные ресурсы.")

Эта сетевая топология состоит из нескольких компонентов:

  1. Публичная зона (PbZ) состоит из двух хостов и коммутатора L2 (sw1), соединяющего сеть с Интернетом.
  2. Брандмауэр (fw1), регулирующий доступ к демилитаризованной зоне (DmZ).
  3. В DmZ находятся серверы, подключенные основным коммутатором (sw2). Серверы (ws1, ws2, ws3) предоставляют службы протокола HTTP с виртуальным IP-адресом 100.0.0.45. Балансировщик нагрузки (lb) находится между модулем IPS и коммутатором sw4, а также изменяет входящие запросы к серверам в кластере.
  4. Другой брандмауэр (fw2) управляет доступом к частной зоне (PrZ).
  5. Сетевой адресный и портовый транслятор (NAPT) транслирует частные IP-адреса хостов из PrZ в общедоступные IP-адреса в диапазоне DmZ и PbZ.
  6. Частная зона (PrZ) включает два хоста и коммутатор L2 (sw5), соединяющий ее с DmZ через NAPT и fw2.

## Предварительные требования

- VMWare Workstation Pro > 17 или другое программное обеспечение виртуализации
  - Python >= 3.6
  - [(Fast)Click](https://github.com/tbarbette/fastclick)
  - [Mininet](https://github.com/mininet/mininet)
  - [Контроллер POX](https://github.com/noxrepo/pox)

В моем случае я установил их по следующим путям:

 - `/home/<user>/Desktop/fastclick/`
 - `/home/<user>/Desktop/SDN-NFV/applications/sdn/`

 - `/home/<user>/Desktop/mininet/`
## Использование

Чтобы запустить контроллер POX, выполните следующую команду:

    ```
    Перейдите в директорию проекта
    cd .../SDN-NFV/
    sudo make app
    ```

Для запуска сетевой топологии используйте следующую команду:

    ```
    sudo make topo
    ```

Для запуска сетевой топологии и выполнения тестов выполните:

    ```
    sudo make test
    ```

## Структура проекта

Структура проекта выглядит следующим образом:
### **applications/nfv/**: Содержит пользовательские скрипты для запуска IPS, LB и NAPT с использованием (Fast)Click.
 - `ips.click`: Скрипт IPS.
 - `lb.click`: Скрипт LB.
 - `napt.click`: Скрипт NAPT.

### **applications/sdn/ext/**: Содержит пользовательские скрипты для запуска контроллера POX.
 - `controller.py`: Основной скрипт для запуска контроллера POX и конфигурирования сетевых функций.
 - `learning_firewall.py`: Скрипт для реализации обучаемого брандмауэра.
 - `pbz_firewall.py`: Скрипт для реализации брандмауэра публичной зоны.
 - `prz_firewall.py`: Скрипт для реализации брандмауэра частной зоны.

### **applications/sdn/pox/**: Содержит репозиторий POX.
### **applications/sdn/tests/**: Содержит репозиторий POX.
### **applications/sdn/tools/**: Содержит репозиторий POX.

### **applications/results/**: Скрипт `test.py`. Здесь также находятся отчеты.
  - `test.py`: Скрипт для потсроения и тестирования сетевой топологии, и NFV функций.
  - `ips.report, lb.report, napt.report, mininet.log`: Результаты отчетов.

### **applications/topology/**: Содержит скрипт для построения топологии и NFV функций без тестов.
  - `topology.py`: Скрипт для построения сетевой топологии.


